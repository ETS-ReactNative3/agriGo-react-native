{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/interopRequireWildcard","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/objectSpread","data":{"isAsync":false}},{"name":"@babel/runtime/regenerator","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/classCallCheck","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/createClass","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/possibleConstructorReturn","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/getPrototypeOf","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/inherits","data":{"isAsync":false}},{"name":"react","data":{"isAsync":false}},{"name":"./../node_modules/react-transform-hmr/lib/index.js","data":{"isAsync":false}},{"name":"react-native","data":{"isAsync":false}},{"name":"native-base","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n\n  var _interopRequireWildcard = _$$_REQUIRE(_dependencyMap[1], \"@babel/runtime/helpers/interopRequireWildcard\");\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = void 0;\n\n  var _objectSpread2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[2], \"@babel/runtime/helpers/objectSpread\"));\n\n  var _regenerator = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[3], \"@babel/runtime/regenerator\"));\n\n  var _classCallCheck2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[4], \"@babel/runtime/helpers/classCallCheck\"));\n\n  var _createClass2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[5], \"@babel/runtime/helpers/createClass\"));\n\n  var _possibleConstructorReturn2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[6], \"@babel/runtime/helpers/possibleConstructorReturn\"));\n\n  var _getPrototypeOf3 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[7], \"@babel/runtime/helpers/getPrototypeOf\"));\n\n  var _inherits2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[8], \"@babel/runtime/helpers/inherits\"));\n\n  var _react = _interopRequireWildcard(_$$_REQUIRE(_dependencyMap[9], \"react\"));\n\n  var _index = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[10], \"./../node_modules/react-transform-hmr/lib/index.js\"));\n\n  var _reactNative = _$$_REQUIRE(_dependencyMap[11], \"react-native\");\n\n  var _nativeBase = _$$_REQUIRE(_dependencyMap[12], \"native-base\");\n\n  var _temp,\n      _jsxFileName = \"/home/kiruba/Desktop/finalyear project/agrigo/agriGo-react-native/client/driver/screens/ViewRequest.js\";\n\n  var _components = {\n    ViewScreen: {\n      displayName: \"ViewScreen\"\n    }\n  };\n\n  var _node_modulesReactTransformHmrLibIndexJs2 = (0, _index.default)({\n    filename: \"/home/kiruba/Desktop/finalyear project/agrigo/agriGo-react-native/client/driver/screens/ViewRequest.js\",\n    components: _components,\n    locals: [module],\n    imports: [_react.default]\n  });\n\n  function _wrapComponent(id) {\n    return function (Component) {\n      return _node_modulesReactTransformHmrLibIndexJs2(Component, id);\n    };\n  }\n\n  var localip = \"192.168.0.105\";\n\n  var ViewScreen = _wrapComponent(\"ViewScreen\")((_temp = function (_Component) {\n    (0, _inherits2.default)(ViewScreen, _Component);\n\n    function ViewScreen() {\n      var _getPrototypeOf2;\n\n      var _this;\n\n      (0, _classCallCheck2.default)(this, ViewScreen);\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      _this = (0, _possibleConstructorReturn2.default)(this, (_getPrototypeOf2 = (0, _getPrototypeOf3.default)(ViewScreen)).call.apply(_getPrototypeOf2, [this].concat(args)));\n      _this.state = {\n        driverData: [],\n        isLoading: false,\n        userDetails: null\n      };\n      return _this;\n    }\n\n    (0, _createClass2.default)(ViewScreen, [{\n      key: \"fetchData\",\n      value: function fetchData() {\n        var token, req, res;\n        return _regenerator.default.async(function fetchData$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return _regenerator.default.awrap(_reactNative.AsyncStorage.getItem(\"jwt\"));\n\n              case 2:\n                token = _context.sent;\n                console.log(token);\n                _context.next = 6;\n                return _regenerator.default.awrap(fetch(\"https://agrigo.herokuapp.com/user/requests\", {\n                  method: \"GET\",\n                  headers: {\n                    Accept: \"application/json\",\n                    \"Content-Type\": \"application/json\",\n                    Authorization: \"JWT \" + token\n                  }\n                }));\n\n              case 6:\n                req = _context.sent;\n                _context.next = 9;\n                return _regenerator.default.awrap(req.json());\n\n              case 9:\n                res = _context.sent;\n                this.setState({\n                  driverData: res,\n                  isLoading: false\n                });\n\n              case 11:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, null, this);\n      }\n    }, {\n      key: \"componentDidMount\",\n      value: function componentDidMount() {\n        this.getUserData();\n      }\n    }, {\n      key: \"showUserInfo\",\n      value: function showUserInfo(data) {\n        if (this.state.userDetails !== null) {\n          return _react.default.createElement(_reactNative.View, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 38\n            }\n          }, _react.default.createElement(_nativeBase.CardItem, {\n            button: true,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 39\n            }\n          }, _react.default.createElement(_reactNative.Text, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 40\n            }\n          }, \"User Name:\", data.bookedUser.username)), _react.default.createElement(_nativeBase.CardItem, {\n            button: true,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 42\n            }\n          }, _react.default.createElement(_reactNative.Text, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 43\n            }\n          }, \"User Address:\", this.state.userDetails.profileBio.address ? this.state.userDetails.profileBio.address : \"empty\")), _react.default.createElement(_nativeBase.CardItem, {\n            button: true,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 50\n            }\n          }, _react.default.createElement(_reactNative.Text, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 51\n            }\n          }, \"User Mobile No:\", this.state.userDetails.profileBio.phoneNo !== null ? this.state.userDetails.profileBio.phoneNo : \"empty\")));\n        }\n      }\n    }, {\n      key: \"getUserData\",\n      value: function getUserData() {\n        var _this2 = this;\n\n        var token, userId;\n        return _regenerator.default.async(function getUserData$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return _regenerator.default.awrap(_reactNative.AsyncStorage.getItem(\"jwt\"));\n\n              case 2:\n                token = _context2.sent;\n                userId = this.props.navigation.getParam(\"data\", \"null\").bookedUser.id;\n                console.log(\"from request \" + userId);\n                fetch(\"http://\" + localip + \":3000/driver/\" + userId, {\n                  method: \"GET\",\n                  headers: {\n                    Accept: \"application/json\",\n                    \"Content-Type\": \"application/json\",\n                    Authorization: \"JWT \" + token\n                  }\n                }).then(function (res) {\n                  res.json().then(function (data) {\n                    console.log(\"ok driver data recieved \" + res);\n\n                    _this2.setState((0, _objectSpread2.default)({}, _this2.state, {\n                      userDetails: data\n                    }));\n                  });\n                }).catch(function () {\n                  return alert(\"Cannot send ID\");\n                });\n\n              case 6:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, null, this);\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        var navigation = this.props.navigation;\n        var itemId = navigation.getParam(\"itemId\", \"NO-ID\");\n        var data = navigation.getParam(\"data\", \"null\");\n        console.log(\"view Request Data\", data.bookedUser.id);\n        return _react.default.createElement(_reactNative.View, {\n          style: {\n            flex: 1\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 93\n          }\n        }, _react.default.createElement(_nativeBase.Content, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 94\n          }\n        }, _react.default.createElement(_nativeBase.Card, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 95\n          }\n        }, _react.default.createElement(_nativeBase.CardItem, {\n          button: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 96\n          }\n        }, _react.default.createElement(_nativeBase.Left, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 97\n          }\n        }, _react.default.createElement(_reactNative.Text, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 98\n          }\n        }, \"Machinery:\", data.MachineryName))), _react.default.createElement(_nativeBase.CardItem, {\n          button: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 101\n          }\n        }, _react.default.createElement(_reactNative.Text, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 102\n          }\n        }, \"Date:\", new Date(data.startTimestamp).toDateString())), _react.default.createElement(_nativeBase.CardItem, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 104\n          }\n        }, data.decision ? this.showUserInfo(data) : null))));\n      }\n    }]);\n    return ViewScreen;\n  }(_react.Component), _temp));\n\n  var _default2 = ViewScreen;\n  exports.default = _default2;\n});","map":[[25,0,1,0],[29,0,2,0],[31,0,3,0],[55,0,12,0],[55,6,12,6,"localip"],[55,13,12,13],[55,16,12,16],[55,31,12,0],[72,12,14,2,"state"],[72,17],[72,20,14,10],[73,0,14,12,"driverData"],[73,8,14,12,"driverData"],[73,18,14,22],[73,20,14,24],[73,22,14,10],[74,0,14,28,"isLoading"],[74,8,14,28,"isLoading"],[74,17,14,37],[74,19,14,39],[74,24,14,10],[75,0,14,46,"userDetails"],[75,8,14,46,"userDetails"],[75,19,14,57],[75,21,14,59],[76,0,14,10],[76,7],[89,50,17,22,"AsyncStorage"],[89,76,17,35,"getItem"],[89,83,17,22],[89,84,17,43],[89,89,17,22],[89,90],[92,0,17,8,"token"],[92,16,17,8,"token"],[92,21],[93,0,18,4,"console"],[93,16,18,4,"console"],[93,23,18,11],[93,24,18,12,"log"],[93,27,18,4],[93,28,18,16,"token"],[93,33,18,4],[95,50,19,20,"fetch"],[95,55,19,25],[95,56,19,26],[95,100,19,25],[95,102,19,72],[96,0,20,6,"method"],[96,18,20,6,"method"],[96,24,20,12],[96,26,20,14],[96,31,19,72],[97,0,21,6,"headers"],[97,18,21,6,"headers"],[97,25,21,13],[97,27,21,15],[98,0,22,8,"Accept"],[98,20,22,8,"Accept"],[98,26,22,14],[98,28,22,16],[98,46,21,15],[99,0,23,8],[99,36,23,24],[99,54,21,15],[100,0,24,8,"Authorization"],[100,20,24,8,"Authorization"],[100,33,24,21],[100,44,24,30,"token"],[101,0,21,15],[102,0,19,72],[102,17,19,25],[102,18],[105,0,19,8,"req"],[105,16,19,8,"req"],[105,19],[107,50,28,20,"req"],[107,53,28,23],[107,54,28,24,"json"],[107,58,28,20],[107,60],[110,0,28,8,"res"],[110,16,28,8,"res"],[110,19],[111,0,29,4],[111,21,29,9,"setState"],[111,29,29,4],[111,30,29,18],[112,0,29,20,"driverData"],[112,18,29,20,"driverData"],[112,28,29,30],[112,30,29,32,"res"],[112,33,29,18],[113,0,29,37,"isLoading"],[113,18,29,37,"isLoading"],[113,27,29,46],[113,29,29,48],[114,0,29,18],[114,17,29,4],[125,42,31,22],[126,0,32,4],[126,13,32,9,"getUserData"],[126,24,32,4],[127,0,33,3],[130,35,34,15,"data"],[130,39],[130,41,34,21],[131,0,36,4],[131,12,36,8],[131,17,36,13,"state"],[131,22,36,8],[131,23,36,19,"userDetails"],[131,34,36,8],[131,39,36,35],[131,43,36,4],[131,45,36,41],[132,0,37,6],[132,17,38,8],[132,46,38,9],[132,63,38,8],[133,0,38,8],[134,0,38,8],[135,0,38,8],[136,0,38,8],[137,0,38,8],[137,13,39,10],[137,42,39,11],[137,62,39,10],[138,0,39,20],[138,12,39,20],[138,18,39,26],[138,24,39,10],[139,0,39,10],[140,0,39,10],[141,0,39,10],[142,0,39,10],[143,0,39,10],[143,13,40,12],[143,42,40,13],[143,59,40,12],[144,0,40,12],[145,0,40,12],[146,0,40,12],[147,0,40,12],[148,0,40,12],[148,27,40,29,"data"],[148,31,40,33],[148,32,40,34,"bookedUser"],[148,42,40,29],[148,43,40,45,"username"],[148,51,40,12],[148,52,39,10],[148,53,38,8],[148,55,42,10],[148,84,42,11],[148,104,42,10],[149,0,42,20],[149,12,42,20],[149,18,42,26],[149,24,42,10],[150,0,42,10],[151,0,42,10],[152,0,42,10],[153,0,42,10],[154,0,42,10],[154,13,43,12],[154,42,43,13],[154,59,43,12],[155,0,43,12],[156,0,43,12],[157,0,43,12],[158,0,43,12],[159,0,43,12],[159,30,45,15],[159,35,45,20,"state"],[159,40,45,15],[159,41,45,26,"userDetails"],[159,52,45,15],[159,53,45,38,"profileBio"],[159,63,45,15],[159,64,45,49,"address"],[159,71,45,15],[159,74,46,18],[159,79,46,23,"state"],[159,84,46,18],[159,85,46,29,"userDetails"],[159,96,46,18],[159,97,46,41,"profileBio"],[159,107,46,18],[159,108,46,52,"address"],[159,115,45,15],[159,118,47,18],[159,125,43,12],[159,126,42,10],[159,127,38,8],[159,129,50,10],[159,158,50,11],[159,178,50,10],[160,0,50,20],[160,12,50,20],[160,18,50,26],[160,24,50,10],[161,0,50,10],[162,0,50,10],[163,0,50,10],[164,0,50,10],[165,0,50,10],[165,13,51,12],[165,42,51,13],[165,59,51,12],[166,0,51,12],[167,0,51,12],[168,0,51,12],[169,0,51,12],[170,0,51,12],[170,32,53,15],[170,37,53,20,"state"],[170,42,53,15],[170,43,53,26,"userDetails"],[170,54,53,15],[170,55,53,38,"profileBio"],[170,65,53,15],[170,66,53,49,"phoneNo"],[170,73,53,15],[170,78,53,61],[170,82,53,15],[170,85,54,18],[170,90,54,23,"state"],[170,95,54,18],[170,96,54,29,"userDetails"],[170,107,54,18],[170,108,54,41,"profileBio"],[170,118,54,18],[170,119,54,52,"phoneNo"],[170,126,53,15],[170,129,55,18],[170,136,51,12],[170,137,50,10],[170,138,38,8],[170,139,37,6],[171,0,60,5],[172,0,61,3],[184,50,64,22,"AsyncStorage"],[184,76,64,35,"getItem"],[184,83,64,22],[184,84,64,43],[184,89,64,22],[184,90],[187,0,64,8,"token"],[187,16,64,8,"token"],[187,21],[188,0,66,8,"userId"],[188,16,66,8,"userId"],[188,22],[188,25,66,17],[188,30,66,22,"props"],[188,35,66,17],[188,36,66,28,"navigation"],[188,46,66,17],[188,47,66,39,"getParam"],[188,55,66,17],[188,56,66,48],[188,62,66,17],[188,64,66,56],[188,70,66,17],[188,72,66,64,"bookedUser"],[188,82,66,17],[188,83,66,75,"id"],[188,85],[189,0,67,4,"console"],[189,16,67,4,"console"],[189,23,67,11],[189,24,67,12,"log"],[189,27,67,4],[189,28,67,16],[189,46,67,34,"userId"],[189,52,67,4],[190,0,68,4,"fetch"],[190,16,68,4,"fetch"],[190,21,68,9],[190,34,68,20,"localip"],[190,41,68,9],[190,62,68,43,"userId"],[190,68,68,9],[190,70,68,53],[191,0,69,6,"method"],[191,18,69,6,"method"],[191,24,69,12],[191,26,69,14],[191,31,68,53],[192,0,70,6,"headers"],[192,18,70,6,"headers"],[192,25,70,13],[192,27,70,15],[193,0,71,8,"Accept"],[193,20,71,8,"Accept"],[193,26,71,14],[193,28,71,16],[193,46,70,15],[194,0,72,8],[194,36,72,24],[194,54,70,15],[195,0,73,8,"Authorization"],[195,20,73,8,"Authorization"],[195,33,73,21],[195,44,73,30,"token"],[196,0,70,15],[197,0,68,53],[197,17,68,9],[197,18,68,4],[197,19,76,7,"then"],[197,23,68,4],[197,24,76,12],[197,34,76,12,"res"],[197,37,76,15],[197,39,76,19],[198,0,77,8,"res"],[198,18,77,8,"res"],[198,21,77,11],[198,22,77,12,"json"],[198,26,77,8],[198,29,77,19,"then"],[198,33,77,8],[198,34,77,24],[198,44,77,24,"data"],[198,48,77,28],[198,50,77,32],[199,0,78,10,"console"],[199,20,78,10,"console"],[199,27,78,17],[199,28,78,18,"log"],[199,31,78,10],[199,32,78,22],[199,61,78,51,"res"],[199,64,78,10],[201,0,79,10],[201,20,79,10],[201,26,79,14],[201,27,79,15,"setState"],[201,35,79,10],[201,68,79,29],[201,74,79,33],[201,75,79,34,"state"],[201,80,79,10],[202,0,79,41,"userDetails"],[202,22,79,41,"userDetails"],[202,33,79,52],[202,35,79,54,"data"],[203,0,79,10],[204,0,80,9],[204,19,77,8],[205,0,81,7],[205,17,68,4],[205,19,82,7,"catch"],[205,24,68,4],[205,25,82,13],[206,0,82,13],[206,25,82,19,"alert"],[206,30,82,24],[206,31,82,25],[206,47,82,24],[206,48,82,13],[207,0,82,13],[207,17,68,4],[218,31,85,11],[219,0,85,11],[219,12,86,12,"navigation"],[219,22,85,11],[219,25,86,27],[219,30,86,32,"props"],[219,35,85,11],[219,36,86,12,"navigation"],[219,46,85,11],[220,0,87,4],[220,12,87,10,"itemId"],[220,18,87,16],[220,21,87,19,"navigation"],[220,31,87,29],[220,32,87,30,"getParam"],[220,40,87,19],[220,41,87,39],[220,49,87,19],[220,51,87,49],[220,58,87,19],[220,59,87,4],[221,0,88,4],[221,12,88,10,"data"],[221,16,88,14],[221,19,88,17,"navigation"],[221,29,88,27],[221,30,88,28,"getParam"],[221,38,88,17],[221,39,88,37],[221,45,88,17],[221,47,88,45],[221,53,88,17],[221,54,88,4],[222,0,90,4,"console"],[222,8,90,4,"console"],[222,15,90,11],[222,16,90,12,"log"],[222,19,90,4],[222,20,90,16],[222,39,90,4],[222,41,90,37,"data"],[222,45,90,41],[222,46,90,42,"bookedUser"],[222,56,90,37],[222,57,90,53,"id"],[222,59,90,4],[223,0,92,4],[223,15,93,6],[223,44,93,7],[223,61,93,6],[224,0,93,12],[224,10,93,12],[224,15,93,17],[224,17,93,19],[225,0,93,21,"flex"],[225,12,93,21,"flex"],[225,16,93,25],[225,18,93,27],[226,0,93,19],[226,11,93,6],[227,0,93,6],[228,0,93,6],[229,0,93,6],[230,0,93,6],[231,0,93,6],[231,11,94,8],[231,40,94,9],[231,59,94,8],[232,0,94,8],[233,0,94,8],[234,0,94,8],[235,0,94,8],[236,0,94,8],[236,11,95,10],[236,40,95,11],[236,56,95,10],[237,0,95,10],[238,0,95,10],[239,0,95,10],[240,0,95,10],[241,0,95,10],[241,11,96,12],[241,40,96,13],[241,60,96,12],[242,0,96,22],[242,10,96,22],[242,16,96,28],[242,22,96,12],[243,0,96,12],[244,0,96,12],[245,0,96,12],[246,0,96,12],[247,0,96,12],[247,11,97,14],[247,40,97,15],[247,56,97,14],[248,0,97,14],[249,0,97,14],[250,0,97,14],[251,0,97,14],[252,0,97,14],[252,11,98,16],[252,40,98,17],[252,57,98,16],[253,0,98,16],[254,0,98,16],[255,0,98,16],[256,0,98,16],[257,0,98,16],[257,25,98,33,"data"],[257,29,98,37],[257,30,98,38,"MachineryName"],[257,43,98,16],[257,44,97,14],[257,45,96,12],[257,46,95,10],[257,48,101,12],[257,77,101,13],[257,97,101,12],[258,0,101,22],[258,10,101,22],[258,16,101,28],[258,22,101,12],[259,0,101,12],[260,0,101,12],[261,0,101,12],[262,0,101,12],[263,0,101,12],[263,11,102,14],[263,40,102,15],[263,57,102,14],[264,0,102,14],[265,0,102,14],[266,0,102,14],[267,0,102,14],[268,0,102,14],[268,20,102,26],[268,24,102,30,"Date"],[268,28,102,26],[268,29,102,35,"data"],[268,33,102,39],[268,34,102,40,"startTimestamp"],[268,48,102,26],[268,50,102,56,"toDateString"],[268,62,102,26],[268,64,102,14],[268,65,101,12],[268,66,95,10],[268,68,104,12],[268,97,104,13],[268,117,104,12],[269,0,104,12],[270,0,104,12],[271,0,104,12],[272,0,104,12],[273,0,104,12],[273,11,105,15,"data"],[273,15,105,19],[273,16,105,20,"decision"],[273,24,105,15],[273,27,105,31],[273,32,105,36,"showUserInfo"],[273,44,105,31],[273,45,105,49,"data"],[273,49,105,31],[273,50,105,15],[273,53,105,57],[273,57,104,12],[273,58,95,10],[273,59,94,8],[273,60,93,6],[273,61,92,4],[274,0,111,3],[277,4,13,40,"Component"],[277,20]]},"type":"js/module"}]}